<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Endpoint][1]
    -   [Properties][2]
-   [defaultResponseHandler][3]
    -   [Parameters][4]
-   [restify][5]
    -   [Parameters][6]
-   [mapEndpointToGql][7]
    -   [Parameters][8]
-   [QUERY][9]
-   [methods][10]
-   [gqlDefinition][11]
    -   [Parameters][12]

## Endpoint

Endpoint

Defines and endpoint based on a GraphQL query.

Type: [Object][13]

### Properties

-   `source` **[string][14]** The GraphQL source to execute
-   `method` **[string][14]** The endpoint's HTTP method. Defaults to GET for a query and POST for a mutation.
-   `responseHandler` **[function][15]** Middleware to handle returning the GraphQL response. Defaults to [defaultResponseHandler][3].

## defaultResponseHandler

Default response handler.

Extracts the data field in the GraphQL response, if the
data field is not present, return the error with a 500 stauts.

### Parameters

-   `req` **[Object][13]** Express request
-   `res` **[Object][13]** Express response

## restify

Creates a middleware to handle call GraphQL.

Creates a middleware based on the GraphQL schema to make
the GraphQL query in source every time a request is received
in a given endpoint.

This middleware does not send the response (`res.send()`), it instead
delegates the response sending to another middleware by calling next().

### Parameters

-   `schema` **[Object][13]** GraphQL executable schema
-   `context`  
-   `source` **[String][14]** GraphQL source to be executed

Returns **[function][15]** Express middleware callback

## mapEndpointToGql

Maps an endpoint configuration to a configuration in the router

### Parameters

-   `router` **[Object][13]** Express router
-   `schema` **[Object][13]** GraphQL executable schema
-   `context` **[function][15]** Function that generates the context
-   `endpoint` **[Endpoint][16]** Endpoint configuration

## QUERY

Attributes GraphQL operation types to constants

## methods

Maps GraphQL operaiton constants to HTTP methods

## gqlDefinition

Extracts the gql definition of a given source.

If the source defines more than one operation, it is
deemed invalid.

### Parameters

-   `source` **[String][14]** 

[1]: #endpoint

[2]: #properties

[3]: #defaultresponsehandler

[4]: #parameters

[5]: #restify

[6]: #parameters-1

[7]: #mapendpointtogql

[8]: #parameters-2

[9]: #query

[10]: #methods

[11]: #gqldefinition

[12]: #parameters-3

[13]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[14]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[15]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[16]: #endpoint
